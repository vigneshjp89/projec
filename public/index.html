<!doctype html>
<html class="no-js" lang="">

<head>
  <script type='text/javascript'>(function() {var gs = document.createElement('script');gs.src = 'https://snippet.growsumo.com/growsumo.min.js';gs.type = 'text/javascript';gs.async = 'true';gs.onload = gs.onreadystatechange = function() {var rs = this.readyState;if (rs && rs != 'complete' && rs != 'loaded') return;try {growsumo._initialize('pk_1tGMNpb3Aa4wbItNmsruapKwj9YnHq8W');if (typeof(growsumoInit) === 'function') {growsumoInit();}} catch (e) {}};var s = document.getElementsByTagName('script')[0];s.parentNode.insertBefore(gs, s);})();</script>
  <script src="https://js.pusher.com/5.0/pusher.min.js"></script>
  <!-- Start of Async Drift Code -->
<script>
  "use strict";
  
  !function() {
    var t = window.driftt = window.drift = window.driftt || [];
    if (!t.init) {
      if (t.invoked) return void (window.console && console.error && console.error("Drift snippet included twice."));
      t.invoked = !0, t.methods = [ "identify", "config", "track", "reset", "debug", "show", "ping", "page", "hide", "off", "on" ], 
      t.factory = function(e) {
        return function() {
          var n = Array.prototype.slice.call(arguments);
          return n.unshift(e), t.push(n), t;
        };
      }, t.methods.forEach(function(e) {
        t[e] = t.factory(e);
      }), t.load = function(t) {
        var e = 3e5, n = Math.ceil(new Date() / e) * e, o = document.createElement("script");
        o.type = "text/javascript", o.async = !0, o.crossorigin = "anonymous", o.src = "https://js.driftt.com/include/" + n + "/" + t + ".js";
        var i = document.getElementsByTagName("script")[0];
        i.parentNode.insertBefore(o, i);
      };
    }
  }();
  drift.SNIPPET_VERSION = '0.3.1';
  drift.load('bp2m59dh3vw8');
  </script>
  <!-- End of Async Drift Code -->
  <script>

    // Enable pusher logging - don't include this in production
    //Pusher.logToConsole = true;

    var pusher = new Pusher('61861b3b18545139a467', {
      cluster: 'ap2',
      forceTLS: true
    });

    //var channel = pusher.subscribe('my-channel');
    var channel2 = pusher.subscribe('presence-my-channel');
    var channel = pusher.subscribe('my-test-channel');
    
    // channel.bind('my-event', function(data) {
    //   alert(JSON.stringify(data));
    //   //channel.trigger('client-event',{message:"Client Event"});
    // });
    channel.bind('my-event',function(data){
      alert(JSON.stringify(data));
    });
    channel2.bind('client-event', function(data) {
      alert(JSON.stringify(data));
    });
    channel2.bind('pusher:subscription_succeeded', function() {
      channel2.trigger('client-event',{"message":"Channel Subscribed"});
      alert("Successfully subscribed");
});
  </script>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Movie Tickets</title>
  <link href="https://fonts.googleapis.com/css?family=Lato:300" rel="stylesheet">
  <meta name="description" content="book movie tickets">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="shortcut icon" type="image/png" href="favicon.ico" />
  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/movie.css">
</head>

<body class="container">
  <header>
    <img class="fleft logo" src="./images/projector-logo.png" alt="logo" />
    <ul class="fright">
      <li><a href="#" onclick="_gs('event', 'Clicked Home')">HOME</a></li>
      <li><a href="./addMovie.html">ADD MOVIE</a></li>
    </ul>
  </header>
  <div class="clearfix"></div>
  <section class="content">

  </section>
  <div class="clearfix"></div>
  <div class="pusher">
  <p>
    Try publishing an event to channel <code>my-channel</code>
    with event name <code>my-event</code>.
  </p>
  </div>
  <footer>
    <img class="fright logo" width="200" src="images/projector-logo.png" alt="logo" />
    <div class="link-grp fleft ">
      <a href="#" class="link facebook"></a>
      <a href="#" class="link twitter"></a>
      <a href="#" class="link insta"></a>
    </div>
  </footer>
  <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script src="./js/main.js"></script>
</body>
</html>
